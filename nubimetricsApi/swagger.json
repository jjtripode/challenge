{"swagger":"2.0","info":{"version":"v1.1","title":"Transporte API","description":"Api Transporte Substes, Trenes, Colectivos","termsOfService":"https://example.com/terms","contact":{"name":"Juan","url":"https://twitter.com/jjtripode@hotmail.com","email":"Juan@mail.com"},"license":{"name":"Use under LICX","url":"https://example.com/license"}},"paths":{"/api/AgenciaTransporte":{"get":{"tags":["AgenciaTransporte"],"operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.AgenciaTransporteDTO"}}}}},"post":{"tags":["AgenciaTransporte"],"operationId":"Post","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":[],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.AgenciaTransportePostDTO"}}],"responses":{"200":{"description":"Success"}}}},"/api/AgenciaTransporte/{id}":{"get":{"tags":["AgenciaTransporte"],"operationId":"GetAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"},{"name":"page","in":"query","required":false,"type":"integer","format":"int32","default":0},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32","default":100}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.AgenciaTransporteDTO"}}}}},"/api/AgenciaTransporte/recorridos/filter":{"get":{"tags":["AgenciaTransporte"],"operationId":"GetByFilter","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"linea","in":"query","required":false,"type":"string","default":""},{"name":"page","in":"query","required":false,"type":"integer","format":"int32","default":0},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32","default":100}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.RecorridoDTO"}}}}}},"/api/Catalogos/TiposMedioTransporte":{"get":{"tags":["Catalogos"],"operationId":"GetTiposMedioTransporte","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.TipoMedioTransporteDTO"}}}}}},"/api/Catalogos/Estados":{"get":{"tags":["Catalogos"],"operationId":"GetEstados","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.EstadoDTO"}}}}}},"/api/Colectivos":{"get":{"tags":["Colectivos"],"operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.ColectivoDTO"}}}}}},"/api/Colectivos/{id}":{"get":{"tags":["Colectivos"],"operationId":"GetAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.ColectivoDTO"}}}}},"/api/Colectivos/Posicion":{"get":{"tags":["Colectivos"],"summary":"ejemplo linea = 132","description":"Ejemplo de request:\r\n\r\nejemplo linea = 132","operationId":"GetPosicionAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"linea","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.RootObject"}}}}},"/api/Colectivos/Posicion/linea/{linea}":{"get":{"tags":["Colectivos"],"summary":"ejemplo linea = 132","description":"Ejemplo de request:\r\n\r\nejemplo linea = 132","operationId":"GetPosicionByLineaAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"linea","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.RootObject"}}}}},"/api/Recorridos":{"get":{"tags":["Recorridos"],"operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.RecorridoDTO"}}}}}},"/api/Recorridos/{id}":{"get":{"tags":["Recorridos"],"operationId":"GetAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.RecorridoDTO"}}}}},"/api/Recorridos/Filter":{"get":{"tags":["Recorridos"],"operationId":"GetByFilter","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"nombreAbreviado","in":"query","required":false,"type":"string","default":""},{"name":"page","in":"query","required":false,"type":"integer","format":"int32","default":0},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32","default":100}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.RecorridoDTO"}}}}}},"/api/Recorridos/paradas/{idRecorrido}":{"get":{"tags":["Recorridos"],"operationId":"GetParadasAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"idRecorrido","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.ParadaDetalle"}}}}}},"/api/Subtes":{"get":{"tags":["Subtes"],"operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.SubteDTO"}}}}},"post":{"tags":["Subtes"],"operationId":"Post","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":[],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/nubimetricsApi.Models.SubtePostDTO"}}],"responses":{"200":{"description":"Success"}}}},"/api/Subtes/{id}":{"get":{"tags":["Subtes"],"operationId":"GetAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.SubteDTO"}}}}},"/api/Trenes":{"get":{"tags":["Trenes"],"operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.DTOs.TrenDTO"}}}}},"post":{"tags":["Trenes"],"operationId":"Post","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":[],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.TrenPostDTO"}}],"responses":{"200":{"description":"Success"}}}},"/api/Trenes/{id}":{"get":{"tags":["Trenes"],"operationId":"GetAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.DTOs.SubteDTO"}}}}},"/api/Trenes/Posicion":{"get":{"tags":["Trenes"],"operationId":"GetPosicionAsync","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.RootObject"}}}}}},"definitions":{"nubimetricsApi.DTOs.AgenciaTransporteDTO":{"type":"object","properties":{"nombre":{"type":"string"},"unidades":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.TransporteBase"}},"recorridos":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.Recorrido"}}}},"nubimetricsApi.Models.TransporteBase":{"required":["nombre","fechaAlta"],"type":"object","properties":{"id":{"format":"int32","type":"integer"},"nombre":{"maxLength":60,"minLength":0,"type":"string"},"fechaAlta":{"format":"date","type":"string"},"posicionActual":{"$ref":"#/definitions/nubimetricsApi.Models.GeoPosicion"},"estado":{"$ref":"#/definitions/nubimetricsApi.Models.Estado"},"tipoMedioTransporteId":{"format":"int32","type":"integer"},"tipoMedioTransporte":{"$ref":"#/definitions/nubimetricsApi.Models.TipoMedioTransporte"},"agenciaTransporteId":{"format":"int32","type":"integer"}}},"nubimetricsApi.Models.Recorrido":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"agenciaTransporteId":{"format":"int32","type":"integer"},"nombreAbreviado":{"type":"string"},"nombreCompleto":{"type":"string"},"descripcion":{"type":"string"},"idTipoRecorrido":{"format":"int32","type":"integer"},"recorridosDetalle":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.RecorridoDetalle"}}}},"nubimetricsApi.Models.GeoPosicion":{"required":["latitud","longitud"],"type":"object","properties":{"id":{"format":"int32","type":"integer"},"latitud":{"maxLength":11,"minLength":0,"type":"string"},"longitud":{"maxLength":11,"minLength":0,"type":"string"}}},"nubimetricsApi.Models.Estado":{"required":["descripcion"],"type":"object","properties":{"id":{"format":"int32","type":"integer"},"descripcion":{"maxLength":100,"minLength":0,"type":"string"}}},"nubimetricsApi.Models.TipoMedioTransporte":{"required":["nombre"],"type":"object","properties":{"id":{"format":"int32","type":"integer"},"nombre":{"maxLength":100,"minLength":0,"type":"string"}}},"nubimetricsApi.Models.RecorridoDetalle":{"required":["recorridoId","serviceId","paradaCodigo","cabeceraDestino","cabeceraDestinoCodigo","direction","blockId","shapeId"],"type":"object","properties":{"id":{"format":"int32","type":"integer"},"recorridoId":{"format":"int32","type":"integer"},"serviceId":{"maxLength":50,"minLength":0,"type":"string"},"paradaCodigo":{"maxLength":50,"minLength":0,"type":"string"},"cabeceraDestino":{"maxLength":256,"minLength":0,"type":"string"},"cabeceraDestinoCodigo":{"maxLength":256,"minLength":0,"type":"string"},"direction":{"maxLength":256,"minLength":0,"type":"string"},"blockId":{"maxLength":256,"minLength":0,"type":"string"},"shapeId":{"maxLength":256,"minLength":0,"type":"string"},"paradas":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.Parada"}}}},"nubimetricsApi.Models.Parada":{"required":["codigo","arribo","partida","paradaDetalleId","secuenciaParada","timepoint","distanciaRecorrida"],"type":"object","properties":{"id":{"format":"int32","type":"integer"},"codigo":{"maxLength":30,"minLength":0,"type":"string"},"arribo":{"maxLength":30,"minLength":0,"type":"string"},"partida":{"maxLength":30,"minLength":0,"type":"string"},"paradaDetalleId":{"maxLength":30,"minLength":0,"type":"string"},"secuenciaParada":{"maxLength":10,"minLength":0,"type":"string"},"timepoint":{"maxLength":10,"minLength":0,"type":"string"},"distanciaRecorrida":{"maxLength":20,"minLength":0,"type":"string"},"paradasDetalle":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.ParadaDetalle"}}}},"nubimetricsApi.Models.ParadaDetalle":{"required":["codigo","nombre","latitud","longitud"],"type":"object","properties":{"id":{"maxLength":30,"minLength":0,"type":"string"},"codigo":{"maxLength":30,"minLength":0,"type":"string"},"nombre":{"maxLength":100,"minLength":0,"type":"string"},"latitud":{"maxLength":30,"minLength":0,"type":"string"},"longitud":{"maxLength":30,"minLength":0,"type":"string"}}},"nubimetricsApi.DTOs.AgenciaTransportePostDTO":{"required":["nombre","url","zonaHoraria","regionalizacion"],"type":"object","properties":{"nombre":{"maxLength":100,"minLength":0,"type":"string"},"url":{"maxLength":100,"minLength":0,"type":"string"},"zonaHoraria":{"maxLength":100,"minLength":0,"type":"string"},"regionalizacion":{"maxLength":100,"minLength":0,"type":"string"},"telefono":{"maxLength":100,"minLength":0,"type":"string"}}},"nubimetricsApi.DTOs.RecorridoDTO":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"agenciaTransporteId":{"format":"int32","type":"integer"},"nombreAbreviado":{"type":"string"},"nombreCompleto":{"type":"string"},"descripcion":{"type":"string"},"idTipoRecorrido":{"format":"int32","type":"integer"},"recorridosDetalle":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.RecorridoDetalle"}}}},"nubimetricsApi.DTOs.TipoMedioTransporteDTO":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"nombre":{"type":"string"}}},"nubimetricsApi.DTOs.EstadoDTO":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"descripcion":{"type":"string"}}},"nubimetricsApi.DTOs.ColectivoDTO":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"nombre":{"type":"string"},"fechaAlta":{"format":"date-time","type":"string"},"posicionActual":{"$ref":"#/definitions/nubimetricsApi.Models.GeoPosicion"},"estado":{"$ref":"#/definitions/nubimetricsApi.Models.Estado"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.RootObject":{"type":"object","properties":{"_entity":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.Entity"}},"_header":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.Header"},"extensionObject":{"type":"object"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.Entity":{"type":"object","properties":{"nombreLinea":{"type":"string"},"_alert":{"type":"object"},"_id":{"type":"string"},"_is_deleted":{"type":"boolean"},"_trip_update":{"type":"object"},"_vehicle":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.Vehicle"},"extensionObject":{"type":"object"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.Header":{"type":"object","properties":{"_gtfs_realtime_version":{"type":"string"},"_incrementality":{"format":"int32","type":"integer"},"_timestamp":{"format":"int32","type":"integer"},"extensionObject":{"type":"object"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.Vehicle":{"type":"object","properties":{"_congestion_level":{"format":"int32","type":"integer"},"_current_status":{"format":"int32","type":"integer"},"_current_stop_sequence":{"format":"int32","type":"integer"},"_occupancy_status":{"format":"int32","type":"integer"},"_position":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.Position"},"_stop_id":{"type":"string"},"_timestamp":{"format":"int32","type":"integer"},"_trip":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.Trip"},"_vehicle":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Colectivo.Vehicle2"},"extensionObject":{"type":"object"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.Position":{"type":"object","properties":{"_bearing":{"format":"int32","type":"integer"},"_latitude":{"format":"double","type":"number"},"_longitude":{"format":"double","type":"number"},"_odometer":{"format":"int32","type":"integer"},"_speed":{"format":"double","type":"number"},"extensionObject":{"type":"object"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.Trip":{"type":"object","properties":{"_direction_id":{"format":"int32","type":"integer"},"_route_id":{"type":"string"},"_schedule_relationship":{"format":"int32","type":"integer"},"_start_date":{"type":"string"},"_start_time":{"type":"string"},"_trip_id":{"type":"string"},"extensionObject":{"type":"object"}}},"nubimetricsApi.Models.ApiCABAEntities.Colectivo.Vehicle2":{"type":"object","properties":{"_id":{"type":"string"},"_label":{"type":"string"},"_license_plate":{"type":"object"},"extensionObject":{"type":"object"}}},"nubimetricsApi.DTOs.SubteDTO":{"type":"object","properties":{"nombre":{"type":"string"},"fechaAlta":{"format":"date-time","type":"string"},"posicionActual":{"$ref":"#/definitions/nubimetricsApi.Models.GeoPosicion"},"estado":{"$ref":"#/definitions/nubimetricsApi.Models.Estado"}}},"nubimetricsApi.Models.SubtePostDTO":{"type":"object","properties":{"nombre":{"type":"string"},"fechaAlta":{"format":"date-time","type":"string"},"posicionActual":{"$ref":"#/definitions/nubimetricsApi.Models.GeoPosicion"},"estadoId":{"format":"int32","type":"integer"}}},"nubimetricsApi.DTOs.TrenDTO":{"type":"object","properties":{"nombre":{"type":"string"},"fechaAlta":{"format":"date-time","type":"string"},"posicionActual":{"$ref":"#/definitions/nubimetricsApi.Models.GeoPosicion"},"estado":{"$ref":"#/definitions/nubimetricsApi.Models.Estado"}}},"nubimetricsApi.DTOs.TrenPostDTO":{"type":"object","properties":{"nombre":{"type":"string"},"fechaAlta":{"format":"date-time","type":"string"},"posicionActual":{"$ref":"#/definitions/nubimetricsApi.Models.GeoPosicion"},"estadoId":{"format":"int32","type":"integer"}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.RootObject":{"type":"object","properties":{"header":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.Header"},"entity":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.Entity"}}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.Header":{"type":"object","properties":{"gtfs_realtime_version":{"type":"string"},"incrementality":{"format":"int32","type":"integer"},"timestamp":{"format":"int32","type":"integer"}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.Entity":{"type":"object","properties":{"id":{"type":"string"},"vehicle":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.Vehicle"}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.Vehicle":{"type":"object","properties":{"trip":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.Trip"},"position":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.Position"},"current_stop_sequence":{"format":"int32","type":"integer"},"timestamp":{"format":"int32","type":"integer"},"stop_id":{"type":"string"},"vehicle":{"$ref":"#/definitions/nubimetricsApi.Models.ApiCABAEntities.Tren.Vehicle2"}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.Trip":{"type":"object","properties":{"trip_id":{"type":"string"},"schedule_relationship":{"format":"int32","type":"integer"},"route_id":{"type":"string"}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.Position":{"type":"object","properties":{"latitude":{"format":"double","type":"number"},"longitude":{"format":"double","type":"number"}}},"nubimetricsApi.Models.ApiCABAEntities.Tren.Vehicle2":{"type":"object","properties":{"id":{"type":"string"},"label":{"type":"string"}}}}}